# Global EV Charging in 2024: Unpacking Key Behavioral Trends
Analyzed the "Global EV Charging Behavior 2024" dataset from Kaggle using SQLiteDatabaseBrowserPortable to summarize findings and extract insightful information. 
The results and insights were then visualized and presented as a report using Microsoft Power BI. 
This personal portfolio project utilizes free Kaggle data for skill enhancement in data analysis and data visualization.

## Code in SQLiteDatabaseBrowserPortable
### Data Preparation
```sql
--Rename Column
ALTER TABLE Global_EV_Charging_Behavior_2024
RENAME COLUMN 'ChargingCost($)' To ChargingCostUSD;

ALTER TABLE Global_EV_Charging_Behavior_2024
RENAME COLUMN 'BatteryCapacity(kWh)' To BatteryCapacity_kWh;

ALTER TABLE Global_EV_Charging_Behavior_2024
RENAME COLUMN 'ChargingDuration(mins)' To ChargingDuration_mins;

ALTER TABLE Global_EV_Charging_Behavior_2024
RENAME COLUMN 'EnergyDelivered(kWh)' To EnergyDelivered_kWh;

ALTER TABLE Global_EV_Charging_Behavior_2024
RENAME COLUMN 'Temperature(Â°C)' To Temperature_C;

ALTER TABLE Global_EV_Charging_Behavior_2024
RENAME COLUMN 'StationUtilizationRate(%)' To StationUtilizationRate;
```
```sql
-- Create New Column Segment > time charging , segment batterycapacity , segment time during charging
-- Add Column ChargeTimeSegment
ALTER TABLE Global_EV_Charging_Behavior_2024
ADD COLUMN ChargeTimeSegment TEXT;

UPDATE Global_EV_Charging_Behavior_2024
SET ChargeTimeSegment =
    CASE
        WHEN CAST(strftime('%H', SUBSTR(ChargingStartTime, 1, 16)) AS INTEGER) BETWEEN 6 AND 11 THEN 'Morning Charge'
        WHEN CAST(strftime('%H', SUBSTR(ChargingStartTime, 1, 16)) AS INTEGER) BETWEEN 12 AND 17 THEN 'Afternoon Charge'
        WHEN CAST(strftime('%H', SUBSTR(ChargingStartTime, 1, 16)) AS INTEGER) BETWEEN 18 AND 21 THEN 'Evening Charge'
        ELSE 'Night Charge'
    END;
	
-- Add Column Segment batterycapacity
ALTER TABLE Global_EV_Charging_Behavior_2024
ADD COLUMN BatteryCap_Segment TEXT;

UPDATE Global_EV_Charging_Behavior_2024
SET BatteryCap_Segment =
	CASE
		WHEN BatteryCapacity_kWh >= 40 AND BatteryCapacity_kWh < 65 THEN 'Short Range'
		WHEN BatteryCapacity_kWh >= 65 AND BatteryCapacity_kWh < 85 THEN 'Standard Range'
		WHEN BatteryCapacity_kWh >= 85 AND BatteryCapacity_kWh <= 95 THEN 'Long Range'
	END;
	
-- Add Column Segment time during charging
ALTER TABLE Global_EV_Charging_Behavior_2024
ADD COLUMN ChargingDurationSegment TEXT;

UPDATE Global_EV_Charging_Behavior_2024
SET ChargingDurationSegment =
	CASE
		WHEN ChargingDuration_mins >= 15 AND ChargingDuration_mins < 30 THEN 'Quick Top-up'
		WHEN ChargingDuration_mins >= 30 AND ChargingDuration_mins < 90 THEN 'Standard Charge'
		WHEN ChargingDuration_mins >= 90 AND ChargingDuration_mins <= 180 THEN 'Extended Charge'
		ELSE 'Other Duration'
	END;
	
-- Add Column Charging day
ALTER TABLE Global_EV_Charging_Behavior_2024
ADD COLUMN charging_day TEXT;

UPDATE Global_EV_Charging_Behavior_2024
SET charging_day = 
	CASE
        WHEN strftime('%w', SUBSTR(ChargingStartTime, 1, 10)) = '0' THEN 'Sunday'
        WHEN strftime('%w', SUBSTR(ChargingStartTime, 1, 10)) = '1' THEN 'Monday'
        WHEN strftime('%w', SUBSTR(ChargingStartTime, 1, 10)) = '2' THEN 'Tuesday'
        WHEN strftime('%w', SUBSTR(ChargingStartTime, 1, 10)) = '3' THEN 'Wednesday'
        WHEN strftime('%w', SUBSTR(ChargingStartTime, 1, 10)) = '4' THEN 'Thursday'
        WHEN strftime('%w', SUBSTR(ChargingStartTime, 1, 10)) = '5' THEN 'Friday'
        WHEN strftime('%w', SUBSTR(ChargingStartTime, 1, 10)) = '6' THEN 'Saturday'
        ELSE 'Unknown'
    END;
```
## Exploratory Data Analysis (EDA)
```sql
-- Counts charging sessions per day of the week, ordered by frequency --
SELECT
    charging_day,
	count(ChargingStationID) as count_ID
FROM
	Global_EV_Charging_Behavior_2024
GROUP by 
	charging_day
ORDER by 
	count_ID DESC;

-- Shows the top 10 longest EV charging sessions along with their respective charging costs. --
SELECT 
	ChargingStationID,
	ChargingStationType,
	EVModel,
	ChargingDuration_mins,
	EnergyDelivered_kWh,
	ChargingCostUSD
FROM Global_EV_Charging_Behavior_2024
ORDER BY ChargingDuration_mins DESC, ChargingCostUSD
LIMIT 10;

-- Shows the total charging cost, number of charges, and average charge for each country, ranked by total spending.
SELECT 
	Country,
	SUM(ChargingCostUSD) as sum_cost,
	COUNT(ChargingStationID) as count_ID,
	round(AVG(ChargingCostUSD),2) AS avg_charging_cost
FROM Global_EV_Charging_Behavior_2024
GROUP BY Country
ORDER BY sum_cost DESC;

-- Shows the top 10 cities with the highest total EV charging cost. -- 
SELECT 
	Country,
	City,
	sum(ChargingCostUSD) AS sum_cost
FROM Global_EV_Charging_Behavior_2024
GROUP BY City
ORDER BY sum_cost DESC
LIMIT 10;

-- Shows the popularity (number of uses) and the total revenue generated by each type of charging station, ordered by the highest revenue.
SELECT 
	ChargingStationType,
	count(ChargingStationID) AS count_ID,
	sum(ChargingCostUSD) AS sum_cost
FROM Global_EV_Charging_Behavior_2024
GROUP BY ChargingStationType
ORDER BY sum_cost DESC;

-- Charging session count by EV manufacturer (most to least).
SELECT 
	Manufacturer,
	count(ChargingStationID) AS count_ID
FROM Global_EV_Charging_Behavior_2024
GROUP BY Manufacturer
ORDER BY count_ID DESC;

-- Shows the number of payments and the total spending for each payment method, ordered by the highest total spend.
SELECT
	PaymentMethod,
	Count (ChargingStationID) AS count_payment,
	round(sum(ChargingCostUSD),2) AS sum_cost
FROM Global_EV_Charging_Behavior_2024
GROUP BY PaymentMethod
order by sum_cost DESC;

-- Average Temp per Charging Type
SELECT
	ChargingStationType,
	ROUND(AVG(Temperature_C),2) AS avg_temperature,
	min(Temperature_C) AS min_temp,
	max(Temperature_C) AS max_temp
FROM
	Global_EV_Charging_Behavior_2024
GROUP BY ChargingStationType
ORDER BY avg_temperature DESC;

-- Shows the top 10 charging events with the highest temperatures, including the EV model and charging station type.
SELECT
	EVModel,
	ChargingStationType,
	Temperature_C
FROM 
	Global_EV_Charging_Behavior_2024
ORDER BY Temperature_C DESC
LIMIT 10;

-- Shows the number of charging sessions for each time segment of the day, ordered by the most frequent.
SELECT
	ChargeTimeSegment,
	count (ChargingStationID) AS count_segment
FROM
    Global_EV_Charging_Behavior_2024
GROUP BY ChargeTimeSegment
ORDER BY count_segment DESC;


-- Charging session count and average energy delivered by battery capacity segment
SELECT
	BatteryCap_Segment,
	Count(ChargingStationID) AS count_segment,
	ROUND(AVG(EnergyDelivered_kWh),2) AS avg_energy_delivered
FROM Global_EV_Charging_Behavior_2024
GROUP BY BatteryCap_Segment
ORDER BY count_segment DESC;

-- Charging session count by charging duration segment (most frequent first)
SELECT 
	ChargingDurationSegment,
	count(ChargingStationID) as count_segment
FROM Global_EV_Charging_Behavior_2024
GROUP BY ChargingDurationSegment
ORDER BY count_segment DESC;

-- top 10 StationUtilizationRate(%)
-- Shows the top 10 charging stations with the highest utilization rates, including their location (country and city).
SELECT
	ChargingStationID,
	Country,
	City,
	StationUtilizationRate
FROM
	Global_EV_Charging_Behavior_2024
ORDER BY StationUtilizationRate DESC
LIMIT 10;

-- Average station utilization rate by country (highest first).
SELECT
	Country,
	ROUND(avg(StationUtilizationRate),2) AS avg_sta_utl_rate
FROM Global_EV_Charging_Behavior_2024
GROUP BY Country
ORDER BY avg_sta_utl_rate DESC;
```
# Project Report
I created the report for this project using Power BI. You can view an overview of the report at this link. 
https://chitnupong.wordpress.com/?p=1155&preview=true&_thumbnail_id=1167
KhobKhunKub.




